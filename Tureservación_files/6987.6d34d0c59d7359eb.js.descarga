"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6987],{76987:function(e,n,a){a.r(n),a.d(n,{default:function(){return f}});var l=a(85893),t=a(67294),i=a(45697),r=a.n(i),s=a(5152),d=a.n(s),c=a(67814),o=a(77028),u=a.n(o);function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")}var v=d()((function(){return a.e(2309).then(a.bind(a,12309))}),{loadableGenerated:{webpack:function(){return[12309]}}}),x=function(e){var n,a,i,r,s,d,o,x,f,h,p,b,N,j,g,w,y,k,C,_,L=e.t,S=e.onInputChange,F=e.index,H=e.isMobile,M=e.errors,O=e.banks,D=L.defaultBankName,A=(0,t.useState)({name:D,installments:[]}),E=A[0],I=A[1],R=(0,t.useState)((null===L||void 0===L?void 0:L.t_msi)?"":1),q=R[0],T=R[1],G=(0,t.useState)(),Y=G[0],B=G[1],P=(0,t.useState)(""),V=P[0],z=P[1],J=(0,t.useState)(""),K=J[0],Q=J[1],U=(0,t.useState)(""),W=U[0],X=U[1],Z=(0,t.useState)(""),$=Z[0],ee=Z[1],ne=(0,t.useState)(""),ae=ne[0],le=ne[1],te=(0,t.useState)(""),ie=te[0],re=te[1],se=(0,t.useState)(""),de=se[0],ce=se[1],oe=(0,t.useState)(!0),ue=oe[0],me=oe[1],ve=(0,t.useState)(!0),xe=ve[0],fe=ve[1],he=(0,t.useMemo)((function(){return O.length>1}),[O]),pe=function(e){var n=function(e){for(var n="",a=0;a<e.trim().length;a+=1)a===e.trim().length-1?n+=e.charAt(a):n+="*";return n}(e),a=function(e){if(!e)return e;var n,a=u().fns.cardType(e),l=m(e);switch(a){case"amex":n="".concat(l.slice(0,4)," ").concat(l.slice(4,10)," ").concat(l.slice(10,15));break;case"dinersclub":n="".concat(l.slice(0,4)," ").concat(l.slice(4,10)," ").concat(l.slice(10,14));break;default:n="".concat(l.slice(0,4)," ").concat(l.slice(4,8)," ").concat(l.slice(8,12)," ").concat(l.slice(12,19))}return n.trim()}(e);Q(ue?n:a),z(m(e))};(0,t.useEffect)((function(){pe(V)}),[ue]);var be={idbank:function(e){return function(e){var n=O.find((function(n){return n.id===parseInt(e,10)}));B(e),I(n),T((null===L||void 0===L?void 0:L.t_msi)?"":1),S({name:"card",value:{name:"namebank",value:null===n||void 0===n?void 0:n.name,index:F}})}(e)},cardnumber:function(e){return pe(e)},seriescode:function(e){return X(e)},expireDate:function(e){return ee(e)},focused:function(e){return le(e)},cardHolderName:function(e){return re(e)},cardHolderLastName:function(e){return ce(e)},installments:function(e){return T(e)}},Ne=function(e,n){be[e](n),S({name:"card",value:{name:e,value:n,index:F}})};return(0,t.useEffect)((function(){var e=O.find((function(e){return"OTROS"===e.name}));e&&Ne("idbank",e.id)}),[O]),(0,l.jsxs)("div",{className:"flex flex-wrap",id:"cards",children:[he&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("p",{className:"uppercase mb-2",children:null===L||void 0===L?void 0:L.t_choose}),(0,l.jsx)("span",{className:"",children:null===L||void 0===L?void 0:L.description})]}),(0,l.jsx)("div",{className:"w-full mb-2",children:(0,l.jsxs)("select",{name:"idbank",id:"idbank",className:"w-full rounded bg-white border px-1 py-2 antialiased mt-2",value:Y,onChange:function(e){var n=e.target;return Ne(n.name,n.value)},children:[(0,l.jsx)("option",{children:null===L||void 0===L?void 0:L.t_choose}),O.map((function(e,n){return(0,l.jsx)("option",{value:e.id,children:e.name},n)}))]})})]}),(0,l.jsx)("input",{type:"hidden",value:"",id:"dfReferenceId"}),(null===E||void 0===E?void 0:E.name)&&E.name!==D&&(0,l.jsx)("div",{className:"w-full mb-2",children:(0,l.jsxs)("select",{name:"installments",id:"installments",className:"w-full rounded bg-white border px-1 py-2 antialiased mt-2",value:q,onChange:function(e){var n=e.target;return Ne(n.name,n.value)},children:[(null===L||void 0===L?void 0:L.t_msi)&&(0,l.jsx)("option",{value:"",children:null===L||void 0===L?void 0:L.t_msi}),null===E||void 0===E?void 0:E.installments.map((function(e,n){return(0,l.jsx)("option",{value:e.installments,children:e.installmentName},n)}))]})}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"flex -mx-2 ".concat(H?"flex-col":""," "),children:[(0,l.jsx)("div",{className:"px-2 ".concat(H?"w-full":"w-1/2"),children:(0,l.jsxs)("div",{className:"w-full flex flex-wrap",children:[(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"flex",htmlFor:"cardnumber",children:null===L||void 0===L?void 0:L.t_card}),(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsx)("input",{className:"w-full border-b pt-2 antialiased pr-4",id:"cardnumber",name:"cardnumber",placeholder:"1234 5678 9012 3456",inputMode:"numeric",value:K,maxLength:ue?"19":"22",autoComplete:"off",required:!0,onChange:function(e){var n=e.target;Ne(n.name,function(e){for(var n="",a=0;a<e.length;a+=1)"*"===e.charAt(a)?n+=V.charAt(a):n+=e.charAt(a);return m(n)}(n.value))},onFocus:function(e){var n=e.target;return le(n.name)}}),(0,l.jsx)("button",{type:"button",className:"w-1/6 h-8 px-4 bg-gray-200 text-gray-800 rounded-r",onClick:function(){me(!ue)},children:(0,l.jsx)(c.G,{icon:ue?"eye-slash":"eye"})})]}),(null===M||void 0===M||null===(n=M.cards)||void 0===n||null===(a=n[F])||void 0===a?void 0:a.cardnumber)&&(0,l.jsx)("p",{className:"text-hotel-xs text-hotel-danger",id:"errnames",children:null===M||void 0===M||null===(i=M.cards)||void 0===i||null===(r=i[F])||void 0===r?void 0:r.cardnumber})]})}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"flex -mx-2",children:[(0,l.jsx)("div",{className:"w-1/2 px-2",children:(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"flex",htmlFor:"date",children:null===L||void 0===L?void 0:L.t_date}),(0,l.jsx)("input",{type:"tel",name:"expireDate",id:"expireDate",maxLength:"5",placeholder:"MM/YY",pattern:"\\d\\d/\\d\\d",className:"w-full border-b pt-2 antialiased",value:$,onChange:function(e){var n=e.target;return Ne(n.name,function(e){var n=m(e);return n.length>=3?"".concat(n.slice(0,2),"/").concat(n.slice(2,4)):n}(n.value))},onFocus:function(e){var n=e.target;return le(n.name)}}),(null===M||void 0===M||null===(s=M.cards)||void 0===s||null===(d=s[F])||void 0===d?void 0:d.expireDate)&&(0,l.jsx)("p",{className:"text-hotel-xs text-hotel-danger",id:"errnames",children:null===M||void 0===M||null===(o=M.cards)||void 0===o||null===(x=o[F])||void 0===x?void 0:x.expireDate})]})}),(0,l.jsx)("div",{className:"w-1/2 px-2",children:(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"flex",htmlFor:"",children:null===L||void 0===L?void 0:L.t_code}),(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)("input",{className:"w-2/3 border-b pt-2 antialiased",id:"seriescode",name:"seriescode",type:xe?"password":"text",inputMode:"numeric",maxLength:"4",placeholder:"cvc",value:W,onChange:function(e){var n=e.target;return Ne(n.name,function(e,n){var a=m(e),l=4;return n&&(l="amex"===u().fns.cardType(m(n))?4:3),a.slice(0,l)}(n.value,V))},onFocus:function(e){var n=e.target;return le(n.name)}}),(0,l.jsx)("button",{type:"button",className:"w-1/3 h-8 px-4 bg-gray-200 text-gray-800 rounded-r",onClick:function(){fe(!xe)},children:(0,l.jsx)(c.G,{icon:xe?"eye-slash":"eye"})}),(null===M||void 0===M||null===(f=M.cards)||void 0===f||null===(h=f[F])||void 0===h?void 0:h.seriescode)&&(0,l.jsx)("p",{className:"text-hotel-xs text-hotel-danger",id:"errnames",children:null===M||void 0===M||null===(p=M.cards)||void 0===p||null===(b=p[F])||void 0===b?void 0:b.seriescode})]})]})})]})}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"flex -mx-2",children:[(0,l.jsx)("div",{className:"w-1/2 px-2",children:(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"flex",htmlFor:"titular",children:null===L||void 0===L?void 0:L.t_name}),(0,l.jsx)("input",{className:"w-full border-b pt-2 antialiased",id:"cardHolderName",type:"text",name:"cardHolderName",minLength:1,maxLength:100,value:ie,onChange:function(e){var n=e.target;return Ne(n.name,n.value)},onFocus:function(){return le("name")}}),(null===M||void 0===M||null===(N=M.cards)||void 0===N||null===(j=N[F])||void 0===j?void 0:j.cardHolderName)&&(0,l.jsx)("p",{className:"text-hotel-xs text-hotel-danger",id:"errnames",children:null===M||void 0===M||null===(g=M.cards)||void 0===g||null===(w=g[F])||void 0===w?void 0:w.cardHolderName})]})}),(0,l.jsx)("div",{className:"w-1/2 px-2",children:(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("label",{className:"flex",htmlFor:"cardHolderLastName",children:null===L||void 0===L?void 0:L.lastName}),(0,l.jsx)("input",{className:"w-full border-b pt-2 antialiased",id:"cardHolderLastName",type:"text",name:"cardHolderLastName",minLength:1,maxLength:100,value:de,onChange:function(e){var n=e.target;return Ne(n.name,n.value)},onFocus:function(){return le("name")}}),(null===M||void 0===M||null===(y=M.cards)||void 0===y||null===(k=y[F])||void 0===k?void 0:k.cardHolderLastName)&&(0,l.jsx)("p",{className:"text-hotel-xs text-hotel-danger",id:"errnames",children:null===M||void 0===M||null===(C=M.cards)||void 0===C||null===(_=C[F])||void 0===_?void 0:_.cardHolderLastName})]})})]})})]})}),(0,l.jsx)("div",{className:"px-2 ".concat(H?"w-full hidden":"w-1/2 block"),children:(0,l.jsx)(v,{cvc:W,expiry:$,focused:ae,name:"".concat(ie," ").concat(de),number:V,issuer:"",obfuscateCVC:!0,obfuscateExpiry:!0,obfuscateNumber:!0})})]})})]})};x.propTypes={t:r().instanceOf(Object).isRequired,isMobile:r().bool,onInputChange:r().func,index:r().number.isRequired,errors:r().instanceOf(Object).isRequired,banks:r().arrayOf(r().shape({id:r().number,name:r().string,installments:r().instanceOf(Array)}))},x.defaultProps={isMobile:!1,onInputChange:function(){},banks:[]};var f=x}}]);