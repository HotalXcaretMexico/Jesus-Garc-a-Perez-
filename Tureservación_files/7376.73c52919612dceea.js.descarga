(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7376],{81316:function(n,e,o){"use strict";o.d(e,{f:function(){return t}});var t={TOKEN:{isValid:!1,description:"Invalid token"},FAIL:{isValid:!1,description:"Reservation not found"},CHECKIN:{isValid:!1,description:"Checkin has changed"},CHECKOUT:{isValid:!1,description:"Checkout has changed"},NUMBER_ROOMS:{isValid:!1,description:"Number of rooms do not match"},RATE_PLAN_CODE:{isValid:!1,description:"Rate plan code does not match"},ROOM_CODE:{isValid:!1,description:"Room code does not match"},ROOM_AMOUNT:{isValid:!1,description:"Room amout does not match"},CURRENCY:{isValid:!1,description:"Currency has changed"}}},12325:function(n,e,o){"use strict";o.d(e,{Ps:function(){return r},hS:function(){return i},kJ:function(){return c}});var t=o(29815),r=function(n){return n[0]},i=function(n){return(0,t.Z)(Array(n).keys())},c=function(n){return!!n&&Array.isArray(n)}},11267:function(n,e,o){"use strict";o.d(e,{M6:function(){return h},Pe:function(){return f},T8:function(){return s},Tf:function(){return d},oH:function(){return v},xb:function(){return l}});var t=o(82670),r=o(82222),i=o(27484),c=o.n(i),u=(o(67763),o(30381)),a=o.n(u),d=function(n){return/<\/?[a-z][\s\S]*>/m.test(n)},l=function(n){var e="undefined"===typeof n?"undefined":(0,r.Z)(n);if("undefined"===e)return!0;if("boolean"===e)return!n;if(null===n)return!0;if(void 0===n)return!0;if((0,t.Z)(n,Array)){if(n.length<1)return!0}else if("string"===e){if(n.length<1)return!0;if("0"===n)return!0}else if("object"===e){if(Object.keys(n).length<1)return!0}else if("number"===e&&0===n)return!0;return!1},s=function(n,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DD MMMM YYYY";return c()(n).locale(e||"en").format(o)};function v(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())}var h=function(n){return l(n)?null:Math.min.apply(null,n)};function f(n,e){var o=a()(n);return a()(e).diff(o,"days")}},97813:function(n,e,o){"use strict";o.d(e,{H:function(){return t}});var t="https://s3.us-east-1.amazonaws.com/comercial-production-gx-cms-content-bucket"},4745:function(n,e,o){"use strict";o.r(e),o.d(e,{book:function(){return v},completeBookingProcess:function(){return h},createObjRedis:function(){return a},getBookingData:function(){return l},getObjRedis:function(){return d},payMock:function(){return s},paymentGateway:function(){return f}});var t=o(99927),r=o(81798),i=r.k.HOTEL.PREFIX,c=r.k.SECURITY.TOKEN,u={Authorization:"Bearer ".concat(c),PrefixProject:i},a=function(n){return t.Z.post("/xapis/booking/data",n,{headers:u})},d=function(n){var e={SessionID:n};return t.Z.get("/xapis/booking/data",{headers:u,params:e})},l=function(n){var e={SessionID:n};return t.Z.get("/xapis/booking/data",{headers:u,params:e})},s=function(n){return t.Z.post("/xapis/book",n,{headers:u})},v=function(n){return t.Z.post("/xapis/book",n,{headers:u})},h=function(n){return t.Z.post("/xapis/netcard/process",n,{headers:u})},f=function(n){return t.Z.post("/xapis/payment-gateway",n,{headers:u})};e.default={createObjRedis:a,getObjRedis:d,payMock:s,book:v,completeBookingProcess:h,paymentGateway:f}},59160:function(n,e,o){"use strict";o.d(e,{Py:function(){return s},Ye:function(){return v},mW:function(){return f}});var t=o(47568),r=o(20414),i=o(8221),c=o(27484),u=o.n(c),a=o(25474),d=o(63273),l=o(12325),s=function(n){var e=n.token,o=n.language,t=n.currency,r=n.promocode,c=n.paxes,s=n.dates,v=n.country,h=n.hotelCode,f=n.countryRule,m=!1;c&&(m=c.map((function(n){return{Adults:n.adults}})));var p={channel:i.I.CHANNEL,clientID:i.I.CLIENT_ID,language:o||"es",currency:t||"USD",country:(0,a.g)({currency:t,country:v,rule:f}),promocode:r||"",hotelCode:h||(0,l.Ps)(i.I.CODES),habs:[],paxes:m||[{Adults:2}],checkIn:s?s.checkin:u()().add(1,"day").format("YYYY-MM-DD"),checkOut:s?s.checkout:u()().add(2,"day").format("YYYY-MM-DD")};return new Promise((function(n,o){(0,d.M$)(e).then((function(t){200===t.status?n(e):(0,d.aH)(p.channel,p.clientID,p.language,p.country,p.currency,p.promocode,p.hotelCode,p.habs,p.paxes,p.checkIn,p.checkOut).then((function(e){var o=e.data;n(o)})).catch((function(n){console.log(n),o(n)}))})).catch((function(e){(0,d.aH)(p.channel,p.clientID,p.language,p.country,p.currency,p.promocode,p.hotelCode,p.habs,p.paxes,p.checkIn,p.checkOut).then((function(e){var o=e.data;n(o)})).catch((function(n){console.log(n),o(n)}))}))}))},v=function(n){return new Promise((function(e,o){(0,d.M$)(n).then((function(n){var o=n.data;e(o)})).catch((function(n){o(n),console.error(n)}))}))},h=function(n){return new Promise((function(e,o){(0,d.Xd)(n.SessionID,n.Channel,n.ClientID,n.Language,n.Country,n.Currency,n.PromoCode,n.HotelCode,n.Habs,n.Paxes,n.CheckIn,n.CheckOut,n.Ecommerce).then((function(n){200===n.status?e(!0):e(!1)})).catch((function(n){o(n),console.error(n),e(!1)}))}))},f=function(){var n=(0,t.Z)((function(n){var e,o,t,c,u,d,s,f,m,p,C;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=n.token,o=n.currency,t=n.promocode,c=n.selectedRooms,u=n.paxes,d=n.dates,s=n.country,f=n.hotelCode,m=n.countryRule,p=!1,C=[],u&&(p=u.map((function(n){return{Adults:n.adults,Children:n.children,Ages:n.childrenAges}}))),c&&(C=c.map((function(n){return n?{RoomCode:n.code,Name:n.name,RatePlanCode:n.plan,Amount:n.amount,Legal:n.legal,Afi:(null===n||void 0===n?void 0:n.afi)||{}}:null}))),[4,v(e).then((function(n){var r=f||(0,l.Ps)(i.I.CODES),c=o||n.Header.Currency,u=s||n.Header.Country,v=(0,a.g)({currency:c,country:u,rule:m}),g=null!==t?t:n.PromoCode,k={SessionID:e,Channel:n.Header.Channel,ClientID:n.Header.ClientId,Language:n.Header.Language,Country:v,Currency:c,PromoCode:g,HotelCode:r,Habs:C,Paxes:p||n.Paxes,CheckIn:d?d.checkin:n.CheckIn,CheckOut:d?d.checkout:n.CheckOut};return h(k)})).catch((function(){return!1}))];case 1:return[2,r.sent()]}}))}));return function(e){return n.apply(this,arguments)}}();!function(){var n=(0,t.Z)((function(n){var e,o;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=n.ecommerce,o=n.token,[4,v(o).then((function(n){var t={SessionID:o,Channel:n.Header.Channel,ClientID:n.Header.ClientId,Language:n.Header.Language,Country:n.Header.Country,Currency:n.Header.Currency,PromoCode:n.PromoCode,HotelCode:n.Hotel.HotelCode,Habs:n.Hotel.Habs,Paxes:n.Paxes,CheckIn:n.CheckIn,CheckOut:n.CheckOut,Ecommerce:e};return h(t)})).catch((function(){return!1}))];case 1:return[2,t.sent()]}}))}))}()},25791:function(n,e,o){"use strict";o.d(e,{B:function(){return u}});var t=o(26042),r=o(828),i=o(80129),c=o.n(i),u=function(n,e){var o=n.split("?"),i=(0,r.Z)(o,2),u=i[0],a=i[1],d=c().parse(a),l={},s=e.dates,v=e.paxes,h=e.promocode,f=e.hotelcode,m=e.isMultiHotel,p=e.hotels;if((null===s||void 0===s?void 0:s.checkin)&&(null===s||void 0===s?void 0:s.checkout)&&(l={checkin:s.checkin,checkout:s.checkout}),v&&v.length){var C=v.map((function(n){var e={};return e.adults=n.adults||2,e.children=n.children||0,n.childrenAges&&(e.childrenAges=n.childrenAges.join("|")),e}));l=(0,t.Z)({guests:C},l)}if(h&&""!==h?l=(0,t.Z)({promocode:h},l):delete d.promocode,m){var g,k=null!==(g=p[f])&&void 0!==g?g:"";l=(0,t.Z)({hotel:k.code},l)}l=(0,t.Z)({},d,l);var y=c().stringify(l);return{url:"".concat(u,"?").concat(y),basePath:u,query:l,queryString:y}}},8298:function(n,e,o){"use strict";o.d(e,{N6:function(){return p},S5:function(){return k},hs:function(){return y},cW:function(){return m},aN:function(){return f},xo:function(){return g},h:function(){return C}});var t=o(828),r=o(62286),i=o(8221),c=o(12325),u=o(97813),a=o(99927),d=o(81798),l=d.k.HOTEL.PREFIX,s=d.k.SECURITY.TOKEN,v={Authorization:"Bearer ".concat(s),PrefixProject:l},h=function(n){return a.Z.post("/awin-conversion",n,{headers:v})};function f(n){var e=n.rooms,o=n.brand,t=n.paxes,r=n.dates,a=n.hotelCode,d=n.currency,l=n.isMobile,s=e.map((function(n){var e=(null===n||void 0===n?void 0:n.ratePlans)&&(null===n||void 0===n?void 0:n.ratePlans.length)>=1?null===n||void 0===n?void 0:n.ratePlans[0].amount:null;return{name:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.title)||"",id:(null===n||void 0===n?void 0:n.code)||"",price:e,brand:o,variant:"N/A",quantity:1,imgRoom:(null===n||void 0===n?void 0:n.roomsImgs)?l?"".concat(u.H).concat(n.roomsImgs.mobile[0].src):"".concat(u.H).concat(n.roomsImgs.desktop[0].src):""}})),v=null===t||void 0===t?void 0:t.reduce((function(n,e){return{adults:n.adults+e.adults,children:(n.children||0)+(e.children||0)}})),h=null===t||void 0===t?void 0:t.map((function(n){return"".concat(n.adults,".").concat(n.children||0)})).join("|"),f=null===t||void 0===t?void 0:t.map((function(n){var e;return(null===(e=n.childrenAges)||void 0===e?void 0:e.join("|"))||!1})).filter((function(n){return!1!==n})).join("|");return{event:"productList",travelInfo:{checkinDate:null===r||void 0===r?void 0:r.checkin,checkoutDate:null===r||void 0===r?void 0:r.checkout,city:"Playa del Carmen",state:"Quintana Roo",country:"MEX",hotelbrand:o,property:o,numberRooms:t.length.toString(),propertyId:a||(0,c.Ps)(i.I.CODES),travelers:v.adults+v.children,adults:null===v||void 0===v?void 0:v.adults,childs:null===v||void 0===v?void 0:v.children,childsAges:f,roomConfig:h},ecommerce:{currencyCode:d.iso,impressions:s}}}function m(n){return{event:"productDetail",ecommerce:{detail:{actionField:{list:"Search Results"},products:[{name:n.name,id:n.code,price:n.amount,brand:n.brand,variant:"N/A",quantity:1}]}}}}function p(n){var e=n.dates,o=n.brand,t=n.hotelCode,r=n.travelers,a=n.childrenAges,d=n.currency,l=n.room,s=n.isMobile,v=void 0!==s&&s;return{event:"addToCart",travelInfo:{checkinDate:null===e||void 0===e?void 0:e.checkin,checkoutDate:null===e||void 0===e?void 0:e.checkout,city:"Playa del Carmen",state:"Quintana Roo",country:"MEX",hotelbrand:o,property:o,propertyId:t||(0,c.Ps)(i.I.CODES),travelers:r.adults+(r.children||0),adults:r.adults,childs:r.children||0,childsAges:a||""},ecommerce:{currencyCode:d.iso,add:{products:[{name:l.name,id:l.code,price:l.amount,brand:o,variant:"N/A",quantity:1,imgRoom:(null===l||void 0===l?void 0:l.roomsImgs)?v?"".concat(u.H).concat(l.roomsImgs.mobile[0].src):"".concat(u.H).concat(l.roomsImgs.desktop[0].src):""}]}}}}function C(n){var e=n.currency,o=n.room,t=n.brand;return{event:"removeFromCart",ecommerce:{currencyCode:e.iso,remove:{products:[{name:o.name,id:o.code,price:o.amount,brand:t,variant:"N/A",quantity:1}]}}}}function g(n){var e,o=n.rooms,u=n.paxes,a=n.ecommerce,d=n.dates,l=n.hotelCode,s=n.brand,v=n.domain,f=n.country,m=o.map((function(n){return{name:null===n||void 0===n?void 0:n.Name,id:null===n||void 0===n?void 0:n.RoomCode,price:null===n||void 0===n?void 0:n.Amount,brand:s,variant:"N/A",quantity:1}})),p=u.reduce((function(n,e){return{Adults:n.Adults+e.Adults,Children:(n.Children||0)+(e.Children||0)}})),C=u.map((function(n){return"".concat(n.Adults,".").concat(n.Children||0)})).join("|"),g=u.map((function(n){var e;return(null===(e=n.childrenAges)||void 0===e?void 0:e.join("|"))||!1})).filter((function(n){return!1!==n})).join("|"),k=(0,r.parseCookies)(),y="";if(null===k||void 0===k?void 0:k.awc){var I=null===k||void 0===k?void 0:k.awc,b=(0,t.Z)(I.split("_"),1)[0];b&&(y=b)}var A={merchantId:y,totalAmount:null===a||void 0===a?void 0:a.Revenue.toString(),currencyCode:null===a||void 0===a?void 0:a.CurrencyCode,orderReference:(null===a||void 0===a?void 0:a.SivexId)||"",voucherCode:null===a||void 0===a?void 0:a.Coupon,awc:(null===k||void 0===k?void 0:k.awc)||"",AwinChannelCookieS2S:(null===k||void 0===k?void 0:k.AwinChannelCookieS2S)||"",UserCountryCode:f||"MEX",ProductName:s.replace(/ /g,"")||"",HotelCheckInDate:null===d||void 0===d?void 0:d.CheckIn,HotelCheckoutDate:null===d||void 0===d?void 0:d.CheckOut};return h(A),{event:"purchase",travelInfo:{checkinDate:null===d||void 0===d?void 0:d.CheckIn,checkoutDate:null===d||void 0===d?void 0:d.CheckOut,city:"Playa del Carmen",state:"Quintana Roo",country:f||"MEX",hotelbrand:s,property:s,numberRooms:o.length.toString(),propertyId:l||(0,c.Ps)(i.I.CODES),travelers:p.Adults,adults:p.Adults,childs:p.Children,childsAges:g,roomConfig:C,email:null===a||void 0===a||null===(e=a.Contact)||void 0===e?void 0:e.email},ecommerce:{currencyCode:null===a||void 0===a?void 0:a.CurrencyCode,purchase:{actionField:{id:null===a||void 0===a?void 0:a.SivexId,affiliation:v,revenue:null===a||void 0===a?void 0:a.Revenue.toString(),tax:"0.0",shipping:"0.0",coupon:null===a||void 0===a?void 0:a.Coupon,synxisId:null===a||void 0===a?void 0:a.SynxisId},products:m}}}}function k(n){var e=n.selectedRooms,o=n.dates,t=n.paxes,r=n.brand,u=n.hotelCode,a=void 0===u?"":u,d=t.map((function(n){return"".concat(null===n||void 0===n?void 0:n.adults,".").concat((null===n||void 0===n?void 0:n.children)||0)})).join("|"),l=t.map((function(n){var e;return(null===n||void 0===n||null===(e=n.childrenAges)||void 0===e?void 0:e.join("|"))||!1})).filter((function(n){return!1!==n})).join("|"),s=e.map((function(n,e){return{name:null===n||void 0===n?void 0:n.name,id:null===n||void 0===n?void 0:n.code,price:null===n||void 0===n?void 0:n.amount,brand:r,variant:"N/A",quantity:1,childs:0,adults:t[e]?t[e].adults:0}})),v=null===t||void 0===t?void 0:t.reduce((function(n,e){return{adults:(null===n||void 0===n?void 0:n.adults)+(null===e||void 0===e?void 0:e.adults),children:(null===n||void 0===n?void 0:n.children)+(null===e||void 0===e?void 0:e.children)}}));return{event:"checkout",travelInfo:{checkinDate:null===o||void 0===o?void 0:o.checkin,checkoutDate:null===o||void 0===o?void 0:o.checkout,numberRooms:e.length.toString(),hotelbrand:r,property:r,propertyId:(0,c.Ps)(i.I.CODES)||a,travelers:((null===v||void 0===v?void 0:v.adults)||0)+((null===v||void 0===v?void 0:v.children)||0),adults:null===v||void 0===v?void 0:v.adults,childs:(null===v||void 0===v?void 0:v.children)||0,roomConfig:d,childrenAges:l},ecommerce:{checkout:{products:s}}}}function y(n){var e=n.brand,o=n.room,t=n.dates,r=n.urlImage;return{event:"productClick",ecommerce:{click:{products:[{name:null===o||void 0===o?void 0:o.title,id:null===o||void 0===o?void 0:o.code,price:(null===o||void 0===o?void 0:o.price)||0,brand:e,childs:0,adults:2,quantity:1,imgRoom:r,checkinDate:null===t||void 0===t?void 0:t.checkin,checkoutDate:null===t||void 0===t?void 0:t.checkout}]}}}}},24654:function(){}}]);