(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7359],{59160:function(e,n,t){"use strict";t.d(n,{Py:function(){return d},Ye:function(){return h},mW:function(){return m}});var r=t(47568),a=t(20414),o=t(8221),c=t(27484),s=t.n(c),i=t(25474),l=t(63273),u=t(12325),d=function(e){var n=e.token,t=e.language,r=e.currency,a=e.promocode,c=e.paxes,d=e.dates,h=e.country,f=e.hotelCode,m=e.countryRule,x=!1;c&&(x=c.map((function(e){return{Adults:e.adults}})));var g={channel:o.I.CHANNEL,clientID:o.I.CLIENT_ID,language:t||"es",currency:r||"USD",country:(0,i.g)({currency:r,country:h,rule:m}),promocode:a||"",hotelCode:f||(0,u.Ps)(o.I.CODES),habs:[],paxes:x||[{Adults:2}],checkIn:d?d.checkin:s()().add(1,"day").format("YYYY-MM-DD"),checkOut:d?d.checkout:s()().add(2,"day").format("YYYY-MM-DD")};return new Promise((function(e,t){(0,l.M$)(n).then((function(r){200===r.status?e(n):(0,l.aH)(g.channel,g.clientID,g.language,g.country,g.currency,g.promocode,g.hotelCode,g.habs,g.paxes,g.checkIn,g.checkOut).then((function(n){var t=n.data;e(t)})).catch((function(e){console.log(e),t(e)}))})).catch((function(n){(0,l.aH)(g.channel,g.clientID,g.language,g.country,g.currency,g.promocode,g.hotelCode,g.habs,g.paxes,g.checkIn,g.checkOut).then((function(n){var t=n.data;e(t)})).catch((function(e){console.log(e),t(e)}))}))}))},h=function(e){return new Promise((function(n,t){(0,l.M$)(e).then((function(e){var t=e.data;n(t)})).catch((function(e){t(e),console.error(e)}))}))},f=function(e){return new Promise((function(n,t){(0,l.Xd)(e.SessionID,e.Channel,e.ClientID,e.Language,e.Country,e.Currency,e.PromoCode,e.HotelCode,e.Habs,e.Paxes,e.CheckIn,e.CheckOut,e.Ecommerce).then((function(e){200===e.status?n(!0):n(!1)})).catch((function(e){t(e),console.error(e),n(!1)}))}))},m=function(){var e=(0,r.Z)((function(e){var n,t,r,c,s,l,d,m,x,g,p;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=e.token,t=e.currency,r=e.promocode,c=e.selectedRooms,s=e.paxes,l=e.dates,d=e.country,m=e.hotelCode,x=e.countryRule,g=!1,p=[],s&&(g=s.map((function(e){return{Adults:e.adults,Children:e.children,Ages:e.childrenAges}}))),c&&(p=c.map((function(e){return e?{RoomCode:e.code,Name:e.name,RatePlanCode:e.plan,Amount:e.amount,Legal:e.legal,Afi:(null===e||void 0===e?void 0:e.afi)||{}}:null}))),[4,h(n).then((function(e){var a=m||(0,u.Ps)(o.I.CODES),c=t||e.Header.Currency,s=d||e.Header.Country,h=(0,i.g)({currency:c,country:s,rule:x}),b=null!==r?r:e.PromoCode,k={SessionID:n,Channel:e.Header.Channel,ClientID:e.Header.ClientId,Language:e.Header.Language,Country:h,Currency:c,PromoCode:b,HotelCode:a,Habs:p,Paxes:g||e.Paxes,CheckIn:l?l.checkin:e.CheckIn,CheckOut:l?l.checkout:e.CheckOut};return f(k)})).catch((function(){return!1}))];case 1:return[2,a.sent()]}}))}));return function(n){return e.apply(this,arguments)}}();!function(){var e=(0,r.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return n=e.ecommerce,t=e.token,[4,h(t).then((function(e){var r={SessionID:t,Channel:e.Header.Channel,ClientID:e.Header.ClientId,Language:e.Header.Language,Country:e.Header.Country,Currency:e.Header.Currency,PromoCode:e.PromoCode,HotelCode:e.Hotel.HotelCode,Habs:e.Hotel.Habs,Paxes:e.Paxes,CheckIn:e.CheckIn,CheckOut:e.CheckOut,Ecommerce:n};return f(r)})).catch((function(){return!1}))];case 1:return[2,r.sent()]}}))}))}()},87055:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return R}});var r=t(47568),a=t(99534),o=t(20414),c=t(85893),s=t(67294),i=t(26628),l=t(45697),u=t.n(l),d=t(67814),h=t(5152),f=t.n(h),m=t(90363),x=t(26042),g=t(69396),p=t(11163),b=t(41664),k=t.n(b),v=function(e){var n=e.children,t=e.submenu,r=e.activeClassName,o=(0,a.Z)(e,["children","submenu","activeClassName"]),i=(0,p.useRouter)().asPath,l=s.Children.only(n),u=l.props.className||"",d=(0,s.useState)(u),h=d[0],f=d[1],m=o.as?o.as.map((function(e){return e.href})):null,b=!!m&&m.indexOf(i)>-1;(0,s.useEffect)((function(){return f(i===o.href||b?"".concat(u," ").concat(r):u)}));var v=t?(0,c.jsx)(c.Fragment,{children:s.cloneElement(l,{className:h||null})}):(0,c.jsx)(k(),(0,g.Z)((0,x.Z)({},o),{children:s.cloneElement(l,{className:h||null})}));return(0,c.jsx)(c.Fragment,{children:v})};v.propTypes={activeClassName:u().string.isRequired};var C,y=v,j=t(28157),w=t(10831),N=t(11702),H=t(84070),I=t(89667),O=t(44032),D=t.n(O),S=t(39074),_=t(98577),E=f()((function(){return t.e(3131).then(t.bind(t,83131))}),{loadableGenerated:{webpack:function(){return[83131]}},loading:function(){return(0,c.jsx)("p",{children:"..."})}}),P=function(e){var n=e.u,t=e.g,r=e.nav_menu,a=e.currencies,o=e.btn,i=e.currency,l=e.promocode,u=e.dates,h=e.language,f=e.hreflangs,x=e.quote,g=e.iframe,p=e.bookingTabs,b=e.transparentMenu,k=e.setActiveBooking,v=e.isHome,C=e.airports,N=e.flightBookingVersion,O=e.logoCheckout,S=e.landing,P=(0,s.useRef)(null),A=(0,s.useState)(!1),R=A[0],B=A[1],M=(0,s.useState)(""),q=M[0],T=M[1],L=(0,s.useState)(""),Z=L[0],Y=L[1],F=(0,s.useState)(!1),V=F[0],G=F[1],U=(0,s.useState)(!v),X=U[0],$=U[1],z=Object.keys(f);z=z.find((function(e){return e!==h})),(0,s.useEffect)((function(){return T(window.location.search)}));v&&(0,s.useEffect)((function(){var e=function(){window.scrollY>140?($(!0),G(!0)):(Y(""),G(!1),$(!1))};return window.addEventListener("scroll",e,{passive:!0}),function(){return window.removeEventListener("scroll",e)}}),[]),(0,s.useEffect)((function(){Y(R?"bg-gray-100 shadow-md ".concat(""):"".concat(V?"fixed-header bg-white text-black":D().headerTransparent))}),[R]);var W=[];W.push({title:t.bookingTabs.booking.title,description:(0,c.jsx)("div",{className:"mx-auto",style:{width:"1024px"},children:(0,c.jsx)(H.Z,{t:t.booking,hidePrice:!0,isControlled:!1,u:n,language:h,monthsToShow:2,showBanksBell:!1,numberRooms:5,currency:i.iso,promocode:l,defaultCheckIn:u.checkin,defaultCheckOut:u.checkout,isHome:!0,noPromocode:!0})})}),p&&W.push({title:t.bookingTabs.bookingFlight.title,description:(0,c.jsx)(I.Z,{t:t.bookinflights,tV2:t.bookinflightsv2,lang:h,flightBookingVersion:N,airports:C})});var J=(0,c.jsx)("a",{href:"".concat("es"===h?f.en:f.es).concat(x?q:""),children:"es"===h?"English":"Espa\xf1ol"}),K=r.map((function(e){var n=null,t=(0,c.jsx)("span",{className:"uppercase flex",children:e.name});if(e.dropdown){n=(0,c.jsx)("ul",{className:"hidden font-navi justify-center tracking-1 mt-5 text-xs px-2",children:e.dropdown.map((function(e,n){var t=e.name;return e.href&&(t=(0,c.jsx)("a",{className:"block text-xs",href:e.href,children:e.name})),(0,c.jsx)("li",{className:"p-2 text-xs px-10",children:t},n)}))});var r=e.dropdown.map((function(e){return e}));return(0,c.jsxs)("li",{className:"inline-block cursor-pointer px-2",children:[(0,c.jsx)(y,{submenu:!0,activeClassName:"border-grey-pink border-b",as:r,children:t}),n]},e.name)}return e.href&&(t=(0,c.jsx)(y,{activeClassName:"border-grey-pink border-b",href:e.href,children:(0,c.jsx)("a",{className:"uppercase flex ",href:e.href,children:e.name})})),(0,c.jsxs)("li",{className:"inline-block px-2",children:[t,n]},e.name)})),Q=(0,s.useState)(!1),ee=Q[0],ne=Q[1],te=t.footer.numeros.principal.filter((function(e){return!e.more}));t.footer.numeros.secundario.forEach((function(e){te.push(e)}));var re=function(){var e=document.getElementById("numbersActive");e&&(ne(!ee),!1===ee&&(e.style.display="block",e.focus()))},ae=function(){var e=document.getElementById("numbersActive");e&&setTimeout((function(){e.style.display="none",ne(!1)}),100)};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(_.Z,{gtmId:t.gtmId}),(0,c.jsxs)("nav",{ref:P,id:"mainNavSite",className:"fixed h-auto top-0 left-0 w-full flex flex-col items-center text-black transition-all duration-500 ease-in-out ".concat(D().headerDefault,"\n        ").concat(Z,"\n        ").concat(b?V?"fixed-header bg-white text-black":D().headerTransparent:"solid-header  bg-white text-black"),children:[!g&&!S&&(0,c.jsxs)("div",{className:"flex items-center justify-between w-full px-5 py-4 flex-wrap",children:[(0,c.jsx)("a",{href:"es"===h?"/es/":"/en/",children:(0,c.jsx)(m.default,{path:w.H,id:"logo",className:"".concat(D().logoDesktop," "),src:t.logoSite.fixed,alt:"Hotel Xcaret M\xe9xico",s3:!0})}),(0,c.jsx)("ul",{className:"".concat(D().navMenu," flex flex-row justify-around items-center font-GothicStd text-xxs xl:text-xs flex-wrap tracking-tighter"),children:K}),(0,c.jsx)("div",{className:"flex flex-col justify-center items-center top-0 right-0 ml-4 ".concat(g||S?"mt-8":""),children:(0,c.jsxs)("div",{className:"flex justify-around items-center text-xxs xl:text-xs uppercase font-GothicStd tracking-tighter",children:[(0,c.jsxs)("div",{className:"relative cursor-pointer px-1",onClick:re,children:[(0,c.jsx)("span",{children:"es"===h?"Contacto":"Contact"}),(0,c.jsx)("div",{tabIndex:"-1",id:"numbersActive",className:" ".concat(g||S?"-ml-48":"-ml-36"," absolute w-64 left-0 right-0 mt-2 shadow-lg text-white hidden"),style:{"z-index":90,background:"#6f6f6f"},onBlur:ae,children:(0,c.jsx)("div",{className:"flex flex-wrap",children:t.footer.numeros.principal.map((function(e,n){return(0,c.jsxs)("a",{className:"border-b border-gray-400 p-2 text-xs text-center w-full ",href:"tel:".concat(e.num),children:[e.text," ",e.textNum]},n)}))})})]}),!g&&!S&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"px-1",children:J}),(0,c.jsx)("div",{className:"px-1 pr-2",children:(0,c.jsx)(j.Z,{currencies:a})})]}),X&&!g&&!S&&!x&&(0,c.jsx)("button",{type:"button",className:"block w-full ml-auto text-white bg-cotton-pink rounded p-2 uppercase",onClick:function(){return B(!R),void k({state:!R})},children:R?(0,c.jsx)(d.G,{className:"text-white",icon:"times"}):o})]})})]}),(g||S)&&(0,c.jsxs)("div",{className:"flex items-center justify-between w-full px-5 py-5",children:[(0,c.jsx)("a",{href:"es"===h?"/es/":"/en/",children:(0,c.jsx)(m.default,{path:w.H,id:"logo",className:"".concat(D().logoDesktop," "),src:""!==O?t.logoSite[O].fixed:t.logoSite.fixed,alt:"Hotel Xcaret M\xe9xico",s3:!0})}),(0,c.jsxs)("div",{className:"flex flex-row",children:[z&&S&&(0,c.jsx)("div",{className:"px-2 border-r border-gray-800",children:J}),(0,c.jsxs)("button",{type:"button",className:"relative px-2 cursor-pointer",onClick:re,children:[(0,c.jsx)("span",{children:"es"===h?"Contacto":"Contact"}),(0,c.jsx)("div",{tabIndex:"-1",id:"numbersActive",className:"".concat(g&&S?"-ml-48":"-ml-36"," absolute w-64 left-0 right-0 mt-2 shadow-lg text-white hidden"),style:{"z-index":90,background:"#6f6f6f"},onBlur:ae,children:(0,c.jsx)("div",{className:"flex flex-wrap",children:t.footer.numeros.principal.map((function(e,n){return(0,c.jsxs)("a",{className:"border-b border-gray-400 p-2 text-xs text-center w-full ",href:"tel:".concat(e.num),children:[e.text," ",e.textNum]},n)}))})})]})]})]}),X&&!x&&(0,c.jsx)("div",{className:"".concat(R?"block":"hidden"," w-full"),children:(0,c.jsx)("div",{className:"w-9/12 mx-auto",children:(0,c.jsx)(E,{items:W,isTabEnabled:p})})})]})]})};P.propTypes={u:u().instanceOf(Object).isRequired,g:u().instanceOf(Object).isRequired,nav_menu:u().instanceOf(Object),language:u().string,hreflangs:u().instanceOf(Object),quote:u().bool,iframe:u().bool,bookingTabs:u().bool,transparentMenu:u().bool,isHome:u().bool,airports:u().instanceOf(Array),flightBookingVersion:u().string,logoCheckout:u().string,landing:u().bool,currencies:u().instanceOf(Array).isRequired,btn:u().string.isRequired,currency:u().instanceOf(Object).isRequired,promocode:u().string.isRequired,dates:u().instanceOf(Object).isRequired,setActiveBooking:u().func.isRequired},P.defaultProps={nav_menu:{},language:"en",hreflangs:{es:"es",en:"en"},quote:!1,iframe:!1,bookingTabs:!1,transparentMenu:!1,isHome:!1,airports:[],flightBookingVersion:"v1",logoCheckout:"",landing:!1},C=function(){var e=(0,r.Z)((function(e){var n,t,r;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:n=e.reduxStore,t=(0,a.Z)(e,["reduxStore"]),o.label=1;case 1:return o.trys.push([1,2,,4]),[2,{language:n.getState().language}];case 2:return r=o.sent(),[4,(0,N.q)(r,"Header Component",t,"components/header/header.jsx")];case 3:return o.sent(),[2,r];case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),P.getInitialProps=C;var A={setActiveBooking:S.i9},R=(0,i.$j)((function(e){return{currency:e.currency,promocode:e.promocode,dates:e.dates,language:e.language}}),A)(P)},44032:function(e){e.exports={navMenu:"header_navMenu__vLuU5",headerDefault:"header_headerDefault__bg4dB",logoDesktop:"header_logoDesktop__1UHgj"}}}]);