(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{96145:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/booking/book",function(){return t(25276)}])},65873:function(e,n,t){"use strict";t.d(n,{A:function(){return r}});var r=function(e){return e.then((function(e){return{data:e,hasError:!1,error:""}})).catch((function(e){return Promise.resolve({data:!1,hasError:!0,error:e})}))}},35852:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(47568),a=t(20414),i=t(65873),s=t(99927),o=t(81798),u=o.k.HOTEL.PREFIX,c=o.k.SECURITY.TOKEN,l={Authorization:"Bearer ".concat(c),PrefixProject:u},d=function(e){var n={SessionID:e.token};return s.Z.get("/xapis/booking/livecheck",{headers:l,params:n})};function f(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)((function(e){var n,t,r;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=e.token,[4,(0,i.A)(d({token:n}))];case 1:return t=a.sent(),r=t.data,t.hasError?[2,!1]:r&&204===r.status?[2,!0]:[2,!1]}}))}))).apply(this,arguments)}},35835:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(51438),a=t(52951),i=t(15592),s=t(83454),o={serviceName:"GX-HOTEL-XCARET-MEXICO-V2",serverUrl:"https://72be08cc667f4a6390b56014bb4f905e.apm.us-east-1.aws.cloud.es.io:443",serviceVersion:s.env.ELASTIC_APM_VERSION||"0.1.0",logLevel:s.env.ELASTIC_APM_LOG_LEVEL||"info"},u=function(){function e(n){(0,r.Z)(this,e),this.apm=(0,i.S1)(o),this.apm.setInitialPageLoadName(n)}return(0,a.Z)(e,[{key:"getConnection",value:function(){var e;return this.apm.isActive()&&(e=this.apm),e}}]),e}()},19517:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(11163),a=t.n(r);function i(e,n){var t=n.res,r=n.status;t?(t.writeHead(r||302,{Location:e}),t.end()):"/"===e[0]&&"/"!==e[1]?a().push(e):window.location=e}},25276:function(e,n,t){"use strict";t.r(n);var r,a=t(47568),i=t(26042),s=t(99534),o=t(20414),u=t(85893),c=t(26628),l=t(5152),d=t.n(l),f=t(45697),g=t.n(f),p=t(11702),h=t(87065),b=t(19517),v=t(35852),m=d()((function(){return t.e(8133).then(t.bind(t,48133))}),{loadableGenerated:{webpack:function(){return[48133]}}}),k=d()((function(){return t.e(8294).then(t.bind(t,18294))}),{loadableGenerated:{webpack:function(){return[18294]}}}),E=d()((function(){return Promise.all([t.e(4885),t.e(129),t.e(3323),t.e(7376),t.e(4910)]).then(t.bind(t,4910))}),{loadableGenerated:{webpack:function(){return[4910]}}}),_=function(e){var n=e.t,t=e.isMobile,r=e.currency,a=e.language,i=e.isBookingValid,s=n.global.siteSettings;return t?(0,u.jsx)(k,{g:n.global,u:n.universal,metas:n.section.metas,quote:!0,iframe:!0,language:a,children:(0,u.jsx)("div",{className:"container mt-18",children:(0,u.jsx)(E,{t:n,language:a,currency:r,isMobile:!0,isBookingValid:i,brand:null===s||void 0===s?void 0:s.brand})})}):(0,u.jsx)(m,{g:n.global,u:n.universal,metas:n.section.metas,iframe:!0,noChat:!0,language:a,children:(0,u.jsx)("div",{className:"mt-32",children:(0,u.jsx)(E,{t:n,language:a,currency:r,isBookingValid:i,brand:null===s||void 0===s?void 0:s.brand})})})};r=function(){var e=(0,a.Z)((function(e){var n,t,r,a,u,c,l,d,f,g,m,k,E,_;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:n=e.reduxStore,t=(0,s.Z)(e,["reduxStore"]),o.label=1;case 1:return o.trys.push([1,5,,7]),r=n.getState(),a=r.language,u=r.selectedRooms,c=r.token,[4,(0,v.Z)({token:c})];case 2:return l=o.sent(),!u.length>0&&(0,b.Z)("/",{res:t.res,status:302}),[4,(0,h.L)(a,"booking ")];case 3:return d=o.sent().data,[4,(0,h.L)(a,"booking-details",t,"booking-hotels")];case 4:return f=o.sent(),g=f.data,m=JSON.parse(d.universal),k=(0,i.Z)({},JSON.parse(g.global),JSON.parse(d.global)),E=(0,i.Z)({},JSON.parse(g.section),JSON.parse(d.section)),[2,{hreflangs:E.hreflangs,translations:{universal:m,global:k,section:E},isBookingValid:l}];case 5:return _=o.sent(),[4,(0,p.q)(_,"SSR",t,"pages/booking/iframe.js")];case 6:return o.sent(),[2,_];case 7:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),_.getInitialProps=r,_.propTypes={t:g().instanceOf(Object).isRequired,isMobile:g().bool.isRequired,currency:g().instanceOf(Object).isRequired,language:g().string.isRequired,isBookingValid:g().bool.isRequired},n.default=(0,c.$j)((function(e){return{currency:e.currency,language:e.language}}),null)(_)},87065:function(e,n,t){"use strict";t.d(n,{L:function(){return l}});var r=t(9669),a=t.n(r),i=t(11702),s=(t(35835),null),o=a().create({baseURL:"https://api-cms.ci.xcaret.com/api/v1"});o.interceptors.response.use((function(e){return e}),(function(e){var n=(0,i.q)(e,"Interceptor",null,"helpers/api-cms.js");null!==s&&s.getConnection().captureError(JSON.stringify(n));return Promise.reject(e)})),delete o.defaults.headers.common["X-Requested-With"];var u=o,c=t(83454).env.CMS_URL_VERSION||"/cms/content",l=function(e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gx-hotel-xcaret-mexico";return u.get(c,{params:{lang:e.toUpperCase()||"EN",section:n,site:t}})}},11163:function(e,n,t){e.exports=t(90387)}},function(e){e.O(0,[9815,9774,2888,179],(function(){return n=96145,e(e.s=n);var n}));var n=e.O();_N_E=n}]);